{"version":3,"sources":["App.module.css","components/common/Preloader/Preloader.module.css","api/api.ts","redux/searchBooksReducer.ts","redux/store.ts","components/Header/Header.tsx","redux/searchBooksSelectors.ts","assets/images/Preloader300px.svg","components/common/Preloader/Preloader.tsx","assets/images/book-placeholder.png","components/Books/CardItem.tsx","components/Books/Books.tsx","components/Book/Book.tsx","App.tsx","reportWebVitals.ts","index.tsx","components/Header/Header.module.css","components/Books/Books.module.css","components/Book/Book.module.css"],"names":["module","exports","instance","axios","create","baseURL","apiKey","searchBooksAPI","query","categories","sortingBy","startIndex","get","then","response","data","id","BOOKS_RECEIVED","MORE_BOOKS_RECEIVED","IS_FETCHING_BOOKS_CHANGED","IS_FETCHING_MORE_BOOKS_CHANGED","SEARCH_RESULTS_CHANGED","PAGE_SIZE_INCREMENTED","FILTER_CHANGED","BOOK_INFO_CHANGED","initialState","bookInfo","filter","pageSize","searchResults","isFetchingBooks","isFetchingMoreBooks","books","_booksReceived","state","newBooks","_moreBooksReceived","_isFetchingBooksChanged","fetchingVal","_isFetchingMoreBooksChanged","_searchResultsChanged","amountOfResults","_filterChanged","newFilter","_pageSizeIncremented","_bookInfoChanged","newBookInfo","searchBooksActions","type","searchBooksReducer","action","rootReducer","combineReducers","searchBooksPage","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Header","dispatch","useDispatch","history","useHistory","className","styles","header","header__title","initialValues","category","sortBy","validate","values","errors","onSubmit","actions","setSubmitting","a","payload","items","length","totalItems","console","error","push","isSubmitting","header__search","name","header__input","shape","disabled","header__button","icon","SearchOutlined","header__filter","header__category","header__label","header__select","Option","value","header__sort","selectBooks","selectSearchResults","selectIsFetchingBooks","selectIsFetchingMoreBooks","selectPageSize","selectFilter","selectBookInfo","Preloader","props","preloader","src","alt","CardItem","React","memo","itemInfo","hoverable","card","card__cover","imageLinks","thumbnail","bookPlaceholder","card__categories","title","card__title","substr","authors","card__authors","join","Books","useSelector","Preloader300px","books__results","grid","gutter","dataSource","renderItem","item","Item","to","onClick","volumeInfo","books__button","loadMoreBooks","size","Book","useEffect","booksId","location","pathname","split","wrapper","coverWrapper","span","description","App","catchAllUnhandledErrors","event","alert","reason","addEventListener","removeEventListener","content","exact","path","render","SearchBooksApp","StrictMode","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e238ab17.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"App_content__F9FkU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__nw_nO\"};","import axios from \"axios\";\r\nimport { Book, Categories, SortingBy } from \"../types/types\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://www.googleapis.com/books/v1/volumes',\r\n})\r\n\r\nconst apiKey = 'AIzaSyCu8udk6K9EHsV4AZHSJPxNO7B13Ka77A0';\r\n\r\nexport const searchBooksAPI = {\r\n    getBooks: (query: string, categories: Categories, sortingBy: SortingBy, startIndex = 0) => {\r\n        if (categories === \"all\") {\r\n            return instance.get(`?q=${query}\r\n            &key=${apiKey}&maxResults=30&startIndex=${startIndex}&orderBy=${sortingBy}`)\r\n                .then(response => response.data);\r\n        }\r\n        return instance.get(`?q=${query}+subject:${categories}\r\n            &key=${apiKey}&maxResults=30&startIndex=${startIndex}&orderBy=${sortingBy}`)\r\n            .then(response => response.data);\r\n    },\r\n    getBook: (id: string) => {\r\n        return instance.get(`/${id}?key=${apiKey}`).then(response => response.data);\r\n    }\r\n}\r\n\r\nexport type GetBooksResponseData = {\r\n    items: Book[],\r\n    kind: string,\r\n    totalItems: number,\r\n}","import {AppStateType, InferActionTypes} from \"./store\";\r\nimport {Book, Categories, Filter, SortingBy} from \"../types/types\";\r\nimport {ThunkAction} from \"redux-thunk\";\r\nimport {GetBooksResponseData, searchBooksAPI} from \"../api/api\";\r\n\r\nconst BOOKS_RECEIVED = 'books-search/search/BOOKS_RECEIVED';\r\nconst MORE_BOOKS_RECEIVED = 'books-search/search/MORE_BOOKS_RECEIVED';\r\nconst IS_FETCHING_BOOKS_CHANGED = 'books-search/search/IS_FETCHING_BOOKS_CHANGED';\r\nconst IS_FETCHING_MORE_BOOKS_CHANGED = 'books-search/search/IS_FETCHING_MORE_BOOKS_CHANGED';\r\nconst SEARCH_RESULTS_CHANGED = 'books-search/search/SEARCH_RESULTS_CHANGED';\r\nconst PAGE_SIZE_INCREMENTED = 'books-search/search/PAGE_SIZE_INCREMENTED';\r\nconst FILTER_CHANGED = 'books-search/search/FILTER_CHANGED';\r\nconst BOOK_INFO_CHANGED = 'books-search/search/BOOK_INFO_CHANGED';\r\n\r\nconst IncrementPageSizeStep = 30;\r\n\r\nlet initialState = {\r\n    bookInfo: null as null | Book,\r\n    filter: null as null | Filter,\r\n    pageSize: 30,\r\n    searchResults: 0,\r\n    isFetchingBooks: false,\r\n    isFetchingMoreBooks: false,\r\n    books: [] as Book[],\r\n};\r\n\r\nconst searchBooksReducer = (state = initialState, action: ActionTypes): InitialStateType => {\r\n    switch (action.type) {\r\n        case BOOKS_RECEIVED:\r\n            return _booksReceived(state, action.newBooks);\r\n        case BOOK_INFO_CHANGED:\r\n            return _bookInfoChanged(state, action.newBookInfo);\r\n        case MORE_BOOKS_RECEIVED:\r\n            return _moreBooksReceived(state, action.newBooks);\r\n        case IS_FETCHING_BOOKS_CHANGED:\r\n            return _isFetchingBooksChanged(state, action.fetchingVal);\r\n        case IS_FETCHING_MORE_BOOKS_CHANGED:\r\n            return _isFetchingMoreBooksChanged(state, action.fetchingVal);\r\n        case SEARCH_RESULTS_CHANGED:\r\n            return _searchResultsChanged(state, action.amountOfResults);\r\n        case PAGE_SIZE_INCREMENTED:\r\n            return _pageSizeIncremented(state);\r\n        case FILTER_CHANGED:\r\n            return _filterChanged(state, action.newFilter);\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nconst _booksReceived = (state: InitialStateType, newBooks: Book[]) => {\r\n    return {\r\n        ...state,\r\n        books: [...newBooks],\r\n    }\r\n}\r\nconst _moreBooksReceived = (state: InitialStateType, newBooks: Book[]) => {\r\n    return {\r\n        ...state,\r\n        books: [...state.books, ...newBooks],\r\n    }\r\n}\r\nconst _isFetchingBooksChanged = (state: InitialStateType, fetchingVal: boolean) => {\r\n    return {\r\n        ...state,\r\n        isFetchingBooks: fetchingVal,\r\n    }\r\n}\r\nconst _isFetchingMoreBooksChanged = (state: InitialStateType, fetchingVal: boolean) => {\r\n    return {\r\n        ...state,\r\n        isFetchingMoreBooks: fetchingVal,\r\n    }\r\n}\r\nconst _searchResultsChanged = (state: InitialStateType, amountOfResults: number) => {\r\n    return {\r\n        ...state,\r\n        searchResults: amountOfResults,\r\n    }\r\n}\r\nconst _filterChanged = (state: InitialStateType, newFilter: Filter) => {\r\n    return {\r\n        ...state,\r\n        filter: newFilter,\r\n    }\r\n}\r\nconst _pageSizeIncremented = (state: InitialStateType) => {\r\n    return {\r\n        ...state,\r\n        pageSize: state.pageSize + IncrementPageSizeStep,\r\n    }\r\n}\r\nconst _bookInfoChanged = (state: InitialStateType, newBookInfo: Book) => {\r\n    return {\r\n        ...state,\r\n        bookInfo: newBookInfo,\r\n    }\r\n}\r\n\r\nexport const searchBooksActions = {\r\n    booksReceived: (newBooks: Book[]) => ({type: BOOKS_RECEIVED, newBooks} as const),\r\n    moreBooksReceived: (newBooks: Book[]) => ({type: MORE_BOOKS_RECEIVED, newBooks} as const),\r\n    pageSizeIncremented: () => ({type: PAGE_SIZE_INCREMENTED} as const),\r\n    isFetchingBooksChanged: (fetchingVal: boolean) => ({type: IS_FETCHING_BOOKS_CHANGED, fetchingVal} as const),\r\n    searchResultsChanged: (amountOfResults: number) => ({type: SEARCH_RESULTS_CHANGED, amountOfResults} as const),\r\n    filterChanged: (newFilter: Filter) => ({type: FILTER_CHANGED, newFilter} as const),\r\n    isFetchingMoreBooksChanged: (fetchingVal: boolean) => ({\r\n        type: IS_FETCHING_MORE_BOOKS_CHANGED,\r\n        fetchingVal\r\n    } as const),\r\n    bookInfoChanged: (newBookInfo: Book) => ({type: BOOK_INFO_CHANGED, newBookInfo} as const),\r\n}\r\n\r\n// request books from server\r\nexport const getBooks = (query: string, categories: Categories, sortingBy: SortingBy): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(searchBooksActions.isFetchingBooksChanged(true));\r\n\r\n        const filter: Filter = {\r\n            query: query,\r\n            category: categories,\r\n            sortBy: sortingBy,\r\n        }\r\n        dispatch(searchBooksActions.filterChanged(filter));\r\n        try {\r\n            const payload: GetBooksResponseData = await searchBooksAPI.getBooks(query, categories, sortingBy);\r\n            if (payload.items && payload.items.length > 0) {\r\n                dispatch(searchBooksActions.booksReceived(payload.items))\r\n                dispatch(searchBooksActions.searchResultsChanged(payload.totalItems))\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        } finally {\r\n            dispatch(searchBooksActions.isFetchingBooksChanged(false));\r\n        }\r\n    }\r\n\r\n// add next page to books array\r\nexport const loadMoreBooks = (query: string, categories: Categories, sortingBy: SortingBy, pageSize: number): ThunkType =>\r\n    async (dispatch) => {\r\n        dispatch(searchBooksActions.isFetchingMoreBooksChanged(true));\r\n        try {\r\n            const payload: GetBooksResponseData = await searchBooksAPI.getBooks(query, categories, sortingBy, pageSize);\r\n            if (payload.items && payload.items.length > 0) {\r\n                dispatch(searchBooksActions.moreBooksReceived(payload.items))\r\n                dispatch(searchBooksActions.pageSizeIncremented())\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        } finally {\r\n            dispatch(searchBooksActions.isFetchingMoreBooksChanged(false));\r\n        }\r\n    }\r\n\r\n// request single book\r\nexport const getBook = (id: string): ThunkType =>\r\n    async (dispatch) => {\r\n        try {\r\n            const payload: Book = await searchBooksAPI.getBook(id);\r\n            dispatch(searchBooksActions.bookInfoChanged(payload))\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\nexport type InitialStateType = typeof initialState;\r\ntype ActionTypes = InferActionTypes<typeof searchBooksActions>;\r\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionTypes>;\r\nexport default searchBooksReducer;","import { createStore, applyMiddleware, combineReducers, compose } from \"redux\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport searchBooksReducer from \"./searchBooksReducer\";\r\n\r\nlet rootReducer = combineReducers({\r\n    searchBooksPage: searchBooksReducer,\r\n});\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)\r\n));\r\n\r\nexport default store;\r\n\r\ntype RootReducerType = typeof rootReducer;\r\nexport type AppStateType = ReturnType<RootReducerType>;\r\nexport type InferActionTypes<T> = T extends {[key: string]: (...args: any[]) => infer U } ? U : never","import React from 'react';\r\nimport 'antd/dist/antd.css';\r\nimport {SearchOutlined} from '@ant-design/icons';\r\nimport styles from './Header.module.css'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {getBooks} from \"../../redux/searchBooksReducer\";\r\nimport {Filter} from '../../types/types';\r\nimport {Form, Formik, FormikHelpers} from 'formik';\r\nimport {Input, Select, SubmitButton} from 'formik-antd';\r\nimport {Col, Row} from \"antd\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\ntype FormErrors = {\r\n    query?: string\r\n}\r\ntype FormValues = Filter;\r\n\r\n\r\nexport const Header: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const history = useHistory();\r\n\r\n\r\n    const onSubmit = (values: FormValues, actions: FormikHelpers<FormValues>) => {\r\n        actions.setSubmitting(false);\r\n        dispatch(getBooks(values.query, values.category, values.sortBy))\r\n        history.push('/');\r\n    }\r\n\r\n    const initialValues: FormValues = {query: '', category: 'all' , sortBy: 'relevance'}\r\n\r\n    return (\r\n        <div className={styles.header}>\r\n            <div>\r\n                <div className={styles.header__title}>\r\n                    <b>Search for books</b>\r\n                </div>\r\n                <Formik\r\n                    initialValues = {initialValues}\r\n                    validate={values => {\r\n                        const errors: FormErrors = {};\r\n                        if (!values.query) {\r\n                            errors.query = 'Required';\r\n                        }\r\n                        return errors;\r\n                    }}\r\n                    onSubmit={onSubmit}\r\n                >\r\n                    {({isSubmitting}) => (\r\n                        <Form>\r\n                            <div className={styles.header__search}>\r\n                                <Input name=\"query\" className={styles.header__input}/>\r\n\r\n\r\n                                <SubmitButton shape=\"circle\"\r\n                                              disabled={isSubmitting}\r\n                                              className={styles.header__button}\r\n                                              icon={<SearchOutlined/>}/>\r\n                            </div>\r\n                            <div className={styles.header__filter}>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <div className={styles.header__category}>\r\n                                            <label className={styles.header__label}>Categories</label>\r\n                                            <Select className={styles.header__select} name=\"category\">\r\n                                                <Select.Option value=\"all\">all</Select.Option>\r\n                                                <Select.Option value=\"art\">art</Select.Option>\r\n                                                <Select.Option value=\"biography\">biography</Select.Option>\r\n                                                <Select.Option value=\"computers\">computers</Select.Option>\r\n                                                <Select.Option value=\"history\">history</Select.Option>\r\n                                                <Select.Option value=\"medical\">medical</Select.Option>\r\n                                                <Select.Option value=\"poetry\">poetry</Select.Option>\r\n                                            </Select>\r\n                                        </div>\r\n                                    </Col>\r\n                                    <Col>\r\n                                        <div className={styles.header__sort}>\r\n                                            <label className={styles.header__label}>Sorting by</label>\r\n                                            <Select className={styles.header__select} name=\"sortBy\">\r\n                                                <Select.Option value=\"relevance\">relevance</Select.Option>\r\n                                                <Select.Option value=\"newest\">newest</Select.Option>\r\n                                            </Select>\r\n                                        </div>\r\n                                    </Col>\r\n                                </Row>\r\n                            </div>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import { Book, Filter } from \"../types/types\";\r\nimport {AppStateType} from \"./store\";\r\n\r\nexport const selectBooks = (state: AppStateType): Book[] => {\r\n    return state.searchBooksPage.books;\r\n}\r\nexport const selectSearchResults = (state: AppStateType): number => {\r\n    return state.searchBooksPage.searchResults;\r\n}\r\nexport const selectIsFetchingBooks = (state: AppStateType): boolean => {\r\n    return state.searchBooksPage.isFetchingBooks;\r\n}\r\nexport const selectIsFetchingMoreBooks = (state: AppStateType): boolean => {\r\n    return state.searchBooksPage.isFetchingMoreBooks;\r\n}\r\nexport const selectPageSize = (state: AppStateType): number => {\r\n    return state.searchBooksPage.pageSize;\r\n}\r\nexport const selectFilter = (state: AppStateType): Filter | null => {\r\n    return state.searchBooksPage.filter;\r\n}\r\nexport const selectBookInfo = (state: AppStateType): Book | null => {\r\n    return state.searchBooksPage.bookInfo;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/Preloader300px.acfeade9.svg\";","import React from \"react\";\r\nimport styles from './Preloader.module.css'\r\n\r\ntype Props = {\r\n    src: string\r\n}\r\n\r\nconst Preloader: React.FC<Props> = (props) => {\r\n    return (\r\n        <div className={styles.preloader}>\r\n            <img src={props.src} alt=\"preloader\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACzCAYAAABB0BTIAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAIQaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49J++7vycgaWQ9J1c1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCc/Pgo8eDp4bXBtZXRhIHhtbG5zOng9J2Fkb2JlOm5zOm1ldGEvJyB4OnhtcHRrPSdJbWFnZTo6RXhpZlRvb2wgMTAuODAnPgo8cmRmOlJERiB4bWxuczpyZGY9J2h0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMnPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6cGRmPSdodHRwOi8vbnMuYWRvYmUuY29tL3BkZi8xLjMvJz4KICA8cGRmOkF1dGhvcj5LZXJyaSBRdWlubjwvcGRmOkF1dGhvcj4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PScnCiAgeG1sbnM6eG1wPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvJz4KICA8eG1wOkNyZWF0b3JUb29sPkNhbnZhPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KPD94cGFja2V0IGVuZD0ncic/PgqGSacAAA2KSURBVHhe7d0HkxxFEgXgER4JI4ywQggX/P9fQ+CdsMI74e/4Ou4pKvpmdscus8p8ERld3V0mzausml5BXfjPP1g0yuKu/10bRdEEKI4mQHE0AYqjCVAcTYDiaAIURxOgOJoAxdEEKI4mQHE0AYqjCVAcTYDiaAIURxOgOJoAxdEEKI4mQHE0AYqjCVAcTYDiaAIURxOgOJoAxdEEKI4mQHE0AYqjCVAcTYDiaAIURxOgOJoAxdEEKI4mQHE0AYqjCVAcTYDiaAIURxOgOJoAxdEEKI4mQHHs7f8VrJu//vprugYXLlz4P2mcDj6cS8CHd9999958uTcC/Pzzz4vPPvts8ffff08Kj0G/6667JlG+9957Fw888MDiwQcfnKQ6+OrWrVuT/Prrr4s///xzesaP8aUr3ynfc889i+eee25vvtsbAX788cfFJ598Mim6DOMwypH77rtvcenSpcXFixcncX8n47fffpuC/dNPPy1++eWXxR9//HF7ooy+W+VHeOGFFyZf7QN7IwCDEABOUn6OkQyyhPT20EMPLR599NE7JkMI9HfffTdlyczsZUE/DXyk/tWrV4+fAAlq7oNVBo9qcBAwEhEuX7483Z83fPvtt4sffvhhIgC7N/XD6D/i3vXoCQD333//tF4Jps0hsb65xiCYlwNqEe1lBSR48sknp/Ix4/fff198/fXX04yH2De3Ldd5mc/YOIo+Cejn6AkgaM8888zisccem+4DQ3lnHYxRWQeRY+6olNPOvYyACDaTxwQ2ffXVV9NeCEZbRhezA+gv2PY/yiaM/U82yyNu3rw59Z13R0kA69uNGzemMiOffvrpxeOPPz7dnwYE4EAk4sD8nBydETX17fmxZAQkFqAx8LmOOrsX8EceeWQKejLkOvjyyy+nrBJ/2AT+678CBM3PFg5QdnWvu00JMIddModKozJDDI9zM4brU089tXjiiSduvzsrGD+BQcK5ftHRrJa1BF7Qt8GcAGa/rGFcP6nJumSaY2MCYLvNTYxMcwolKLsSYAQycABy6ZcTgCMyFkdYcjj5LMD+L774Yion8PFD9BGkK1eubB30ESMBQjYTDpTBcxlxvuyeho0/BVuzpWgwOKXCzENAqnvxxRcnSYBDtIyvbP/x0Ucf3XbMIYCM77///uLzzz+fxo6EiID0169fn9bpfQR/GWJ3/E5kSvptio0JMA5KIOw/JKS5559/fvHKK69MTOfwORGR85133pk2TPuGoAu+vUp8ANmvyHivvfbadD3kx6z4OtcxFvTaFDv9MShKWH+2XYM2hXGkVs62tiJCZh8HSIWWqffee2+aFbtCRnn77bentK/vODlj2n+8/vrr08zfJgDbIP4W9HHyjeV1sTMB7GhfffXVyQHbKLAtOMA3cenWMiEgxs9MEDgkyO58G1h39WGW6zMON5avlca2CfX8rGB8GVAmZPeuPt+ZsmYFnKUTRmSPgAyQZUHAOMe+QPreFB9//PG00QuhIES4du3aQdf400CnyIhtYrAzAXZl4L5gObAs2CgmG4BMIX1nJp+GpHzfJEJu/RFZ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\"","import React from \"react\";\r\nimport styles from \"./Books.module.css\";\r\nimport bookPlaceholder from \"../../assets/images/book-placeholder.png\";\r\nimport {Card} from \"antd\";\r\nimport {BookVolumeInfo} from \"../../types/types\";\r\n\r\nexport const CardItem: React.FC<CardItemProps> = React.memo(({itemInfo}) => {\r\n\r\n    return (\r\n        <div>\r\n            <Card hoverable={true} className={styles.card}>\r\n                <div>\r\n                    <div className={styles.card__cover}>\r\n                        {\r\n                            itemInfo.imageLinks &&\r\n                            <img src={itemInfo.imageLinks?.thumbnail} alt=\"\"/>\r\n                        }\r\n\r\n                        {\r\n                            !itemInfo.imageLinks &&\r\n                            <img src={bookPlaceholder} alt=\"\"/>\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        itemInfo.categories &&\r\n                        <div className={styles.card__categories}>{itemInfo.categories[0]}</div>\r\n                    }\r\n                    {\r\n                        itemInfo.title.length > 30 &&\r\n                        <div\r\n                            className={styles.card__title}>{itemInfo.title.substr(0, 30) + '...'}</div>\r\n                    }\r\n                    {\r\n                        itemInfo.title.length <= 30 &&\r\n                        <div className={styles.card__title}>{itemInfo.title}</div>\r\n                    }\r\n\r\n                    {\r\n                        itemInfo.authors &&\r\n                        <div className={styles.card__authors}>\r\n                            {itemInfo.authors.join(', ').length > 100\r\n                                ? itemInfo.authors.join(', ').substr(0, 100) + '...'\r\n                                : itemInfo.authors.join(', ')}\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Card>\r\n        </div>\r\n    );\r\n})\r\n\r\ntype CardItemProps = {\r\n    itemInfo: BookVolumeInfo;\r\n}","import {Button, List} from 'antd';\r\nimport React from 'react';\r\nimport {useDispatch, useSelector} from 'react-redux';\r\n\r\nimport {\r\n    selectBooks,\r\n    selectFilter,\r\n    selectIsFetchingBooks, selectIsFetchingMoreBooks,\r\n    selectPageSize,\r\n    selectSearchResults\r\n} from '../../redux/searchBooksSelectors';\r\nimport styles from \"./Books.module.css\";\r\nimport Preloader300px from \"../../assets/images/Preloader300px.svg\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {loadMoreBooks, searchBooksActions} from \"../../redux/searchBooksReducer\";\r\nimport {NavLink} from 'react-router-dom';\r\nimport {CardItem} from \"./CardItem\";\r\n\r\nexport const Books: React.FC = React.memo(() => {\r\n\r\n    const books = useSelector(selectBooks);\r\n    const searchResults = useSelector(selectSearchResults);\r\n    const isFetchingBooks = useSelector(selectIsFetchingBooks);\r\n    const isFetchingMoreBooks = useSelector(selectIsFetchingMoreBooks);\r\n    const pageSize = useSelector(selectPageSize);\r\n    const filter = useSelector(selectFilter);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onLoadMore = () => {\r\n        if (filter) {\r\n            dispatch(loadMoreBooks(filter.query, filter.category, filter.sortBy, pageSize));\r\n        }\r\n    }\r\n\r\n    if (isFetchingBooks) {\r\n        return <Preloader src={Preloader300px}/>\r\n    }\r\n    return (\r\n        <div className={styles.books}>\r\n            {\r\n                books.length > 0 &&\r\n                <div className={styles.books__results}>\r\n                    <b>Found {searchResults} results</b>\r\n                </div>\r\n            }\r\n\r\n            <List\r\n                grid={{gutter: 16}}\r\n                dataSource={books}\r\n                renderItem={item => (\r\n                    <List.Item>\r\n                        <NavLink to={'/book/' + item.id} onClick={() => {\r\n                            // dispatch current book data to state\r\n                            dispatch(searchBooksActions.bookInfoChanged(item))\r\n                        }}>\r\n                            <CardItem itemInfo={item.volumeInfo}/>\r\n                        </NavLink>\r\n                    </List.Item>\r\n                )}\r\n            />\r\n            {\r\n                isFetchingMoreBooks &&\r\n                <Preloader src={Preloader300px}/>\r\n            }\r\n            {\r\n                books.length > 0 &&\r\n                <Button className={styles.books__button} onClick={onLoadMore} size=\"large\">Load more...</Button>\r\n            }\r\n        </div>\r\n    );\r\n})\r\n","import React, {useEffect} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {selectBookInfo} from \"../../redux/searchBooksSelectors\";\r\nimport {Col, Row} from \"antd\";\r\nimport styles from \"./Book.module.css\"\r\nimport bookPlaceholder from \"../../assets/images/book-placeholder.png\";\r\nimport {Redirect, useHistory} from \"react-router-dom\";\r\nimport {getBook} from \"../../redux/searchBooksReducer\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport Preloader300px from \"../../assets/images/Preloader300px.svg\";\r\n\r\nexport const Book: React.FC = React.memo(() => {\r\n\r\n    const bookInfo = useSelector(selectBookInfo);\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        // get book id from url\r\n        const booksId = history.location.pathname.split('/')[2];\r\n        if (booksId && booksId.length > 0) {\r\n            if (!bookInfo) {\r\n                dispatch(getBook(booksId))\r\n            }\r\n        }\r\n    },[]);\r\n\r\n    if (bookInfo) {\r\n        return (\r\n            <div className={styles.wrapper}>\r\n                <Row>\r\n                    <Col className={styles.coverWrapper} span={5}>\r\n                        <img src={bookInfo.volumeInfo.imageLinks?.thumbnail\r\n                            ? bookInfo.volumeInfo.imageLinks?.thumbnail : bookPlaceholder} alt=\"book's cover\"/>\r\n                    </Col>\r\n                    <Col span={15}>\r\n                        {\r\n                            bookInfo.volumeInfo.categories &&\r\n                            <div className={styles.categories}>{bookInfo.volumeInfo.categories.join(' / ')}</div>\r\n                        }\r\n\r\n                        <div className={styles.title}><b>{bookInfo.volumeInfo.title}</b></div>\r\n\r\n                        {\r\n                            bookInfo.volumeInfo.authors &&\r\n                            <div className={styles.authors}>{bookInfo.volumeInfo.authors.join(', ')}</div>\r\n                        }\r\n                        <div className={styles.description}>{bookInfo.volumeInfo.description}</div>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <Preloader src={Preloader300px} />\r\n        );\r\n    }\r\n})\r\n","import React, {useEffect} from 'react';\r\nimport {Provider} from 'react-redux';\r\nimport store from './redux/store';\r\nimport 'antd/dist/antd.css';\r\nimport styles from \"./App.module.css\";\r\nimport {Header} from './components/Header/Header';\r\nimport {Books} from \"./components/Books/Books\";\r\nimport {HashRouter, Route, Switch} from \"react-router-dom\";\r\nimport { Book } from './components/Book/Book';\r\nimport { Empty } from 'antd';\r\n\r\nconst App: React.FC = React.memo(() => {\r\n\r\n    const catchAllUnhandledErrors = (event: PromiseRejectionEvent) => {\r\n        alert(event.reason);\r\n    }\r\n\r\n    useEffect(() => {\r\n        window.addEventListener('unhandledrejection', catchAllUnhandledErrors);\r\n\r\n        return () => {\r\n            window.removeEventListener(\"unhandledrejection\", catchAllUnhandledErrors);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Header/>\r\n            <div className={styles.content}>\r\n                <Switch>\r\n                    <Route exact path='/' render={() => <Books/> } />\r\n                    <Route exact path='/book/:id' render={() => <Book/> } />\r\n                    <Route path='*' render={() => <Empty description='404 not found' />}/>\r\n                </Switch>\r\n            </div>\r\n        </div>\r\n    );\r\n})\r\n\r\nexport const SearchBooksApp: React.FC = () => {\r\n    return (\r\n        <React.StrictMode>\r\n            <HashRouter>\r\n                <Provider store={store}>\r\n                    <App/>\r\n                </Provider>\r\n            </HashRouter>\r\n        </React.StrictMode>\r\n    );\r\n}","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {SearchBooksApp} from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport \"./index.css\"\r\n\r\nReactDOM.render(\r\n    <SearchBooksApp />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3idra\",\"header__title\":\"Header_header__title__8lB7U\",\"header__search\":\"Header_header__search__2IDaC\",\"header__input\":\"Header_header__input__1FNjA\",\"header__button\":\"Header_header__button__2CgFt\",\"header__filter\":\"Header_header__filter__tDYyA\",\"header__label\":\"Header_header__label__27Z5x\",\"header__select\":\"Header_header__select__2Qg3d\",\"header__sort\":\"Header_header__sort__1DqEF\",\"header__category\":\"Header_header__category__2Jos6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"books\":\"Books_books__35a1H\",\"books__results\":\"Books_books__results__3eGdE\",\"books__button\":\"Books_books__button__1a_KG\",\"card\":\"Books_card__3hr9N\",\"card__cover\":\"Books_card__cover__LcN3Z\",\"card__categories\":\"Books_card__categories__29Siu\",\"card__authors\":\"Books_card__authors__1YC1Z\",\"card__title\":\"Books_card__title__31IDX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Book_wrapper__Lj9YI\",\"coverWrapper\":\"Book_coverWrapper__2pe6h\",\"categories\":\"Book_categories__3xD2O\",\"authors\":\"Book_authors__1GqnF\",\"title\":\"Book_title__3Kfhv\",\"description\":\"Book_description__3pNeW\"};"],"sourceRoot":""}